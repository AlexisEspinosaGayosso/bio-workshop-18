## 1. Docker, repos, containers

 \-\-
 | [TOC](https://github.com/PawseySC/bio-workshop-18/blob/master/TableOfContents.md) |
 [Part 2 \>\>](https://github.com/PawseySC/bio-workshop-18/blob/master/2.fastqc.md)
______

### Getting ready
This workshop requires the use of a computer with [Docker](https://www.docker.com) installed.  
It is assumed that all commands are executed in a Unix-like terminal.

### Pulling an image
Type:

    docker pull ubuntu

The command will require a couple of minutes to complete, the final output being similar to:

    Using default tag: latest
   	latest: Pulling from library/ubuntu
   	124c757242f8: Pull complete 
   	2ebc019eb4e2: Pull complete 
   	dac0825f7ffb: Pull complete 
   	82b0bb65d1bf: Pull complete 
   	ef3b655c7f88: Pull complete 
   	Digest: sha256:72f832c6184b55569be1cd9043e4a80055d55873417ea792d989441f207dd2c7
   	Status: Downloaded newer image for ubuntu:latest

What happpened?  
`pull` is the Docker command to download a container image from a Web *repository* to the local machine.  
This command is downloading the container image for Ubuntu Linux.  
The adopted syntax is abbreviated, as the full one would be:

    docker pull docker.io/library/ubuntu:latest

By default, images are searched in the Docker *registry*, `hub.docker.com`, so that `docker.io/` can be omitted.  
There are several Web registries for container images; the ones relevant to this workshop are:
- [`docker.io`](https://hub.docker.com) : default one, has a lot of images;
- [`quay.io`](https://quay.io) : contains a large number of bioinformatic repositories, mostly from the Biocontainers project.

`library` is where all official Linux distros can be found in Docker Hub; it can be omitted.  
However, in general, this is where the author name would be specified. For instance:
- `continuumio` contains **Conda** repositories;
- `rocker` has very good **R** distributions;
- `biocontainers` has thousdands of bioinformatics packages.

Very often several versions or variants of the same package are available in a registry. They can be selected using a *tag*; if no tag is specified, the default is `latest`.

Note how in the output there are multiple `Pull complete` messages; this is because a single image is made up of mutliple *layers*. This relates to how container images are built, which will be discussed in [Chapter 5](https://github.com/PawseySC/bio-workshop-18/blob/master/5.sincell_workflow.md).

### Running a container
Type:

    docker run --rm ubuntu

`run` starts an image by creating a container, that is an individual instance of an image.  

What happened? Nothing!  
Docker has run the container as a Unix command. Because no argument was specified, the container exited without doing anything.  
Also note that by default Docker does not remove the container after running; as we don't need it after it exits, we are asking to remove it with `--rm`.

Let us try and execute some Unix commands:

    docker run --rm ubuntu echo "Hello world"

Output:

    Hello world

It worked!

You can try and run the Ubuntu container specifying as an argument other typical Unix commands, such as:
- `date` : prints the date (is it the same than in your computer?)
- `uname -a` : prints the Operating System information. If you have a Mac or Windows, does this match your computer?
- `vi`: a popular Unix text editor, except that .. there is no vi installed by default in the Ubuntu container image, so this command will return an error.

### Running a container interactively
Now type:

    docker run -it --rm ubuntu







______
 \-\-
 | [TOC](https://github.com/PawseySC/bio-workshop-18/blob/master/TableOfContents.md) |
 [Part 2 \>\>](https://github.com/PawseySC/bio-workshop-18/blob/master/2.fastqc.md)
